<!DOCTYPE html>
<html>
<head>
	<title>Main</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="/static/css/style.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
  	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
	<script type="text/javascript" src="/static/js/previewAll.js"></script>
</head>

<body>
	<div class="main-repeat" ng-app="previewMain" ng-controller="mainCtrl">
		<h1>LIMS Results Database</h1>

		<div class="search">
			<input type="text" name="search" ng-model="searchValue" ng-change="searchChange()">
			<button class="btn-search" ng-click="search()">Search</button>
		</div>

		<div ng-repeat="t in tables track by $index" class="{a t a}" ng-init="table=$index">
		
			<div class="previewWindow">
				<table class="table_preview previewAll">
					
					<tr class="preview_header">
						<th ng-repeat="x in cols track by $index" class="{a tFields[$index] a}" ng-if="sameTable(tFields[$index], tables[table])">{a x a}</th>
					</tr>
					
					<tr class="preview_content" ng-repeat="row in results | limitTo:previewSize">
						<td ng-repeat="col in sql track by $index" ng-if="sameTable(tFields[$index], tables[table])">
							<a ng-href="http://172.27.164.207:8003/{a tFields[$index] + '/' + row[id[tFields[$index]]] a}">{a row[col] a}</a>
						</td>
					</tr>

					<div class="loading" data-loading></div>
				</table>
			</div>
		</div>
		
	</div>
</body>
</html>
